{"remainingRequest":"C:\\Users\\ASUS\\Desktop\\Blog-project\\blog-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ASUS\\Desktop\\Blog-project\\blog-app\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ASUS\\Desktop\\Blog-project\\blog-app\\src\\components\\Login.vue","mtime":1636429926961},{"path":"C:\\Users\\ASUS\\Desktop\\Blog-project\\blog-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\Blog-project\\blog-app\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\Blog-project\\blog-app\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ASUS\\Desktop\\Blog-project\\blog-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\Blog-project\\blog-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCINCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkxvZ2luRm9ybSIsDQogIGRhdGEoKXsNCiAgICByZXR1cm4gew0KICAgICAgY2xhc3NOYW1lOiAiaGlkZSIsDQogICAgICAgY3JlbmRlbnRpYWxzOiB7DQogICAgICAgIG5hbWU6ICIiLA0KICAgICAgICBwYXNzd29yZDogIiIsDQogICAgICAgIGVtYWlsOiAiIg0KICAgICAgfSwNCiAgICAgIG1vZGU6ICJsb2dpbiINCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwR2V0dGVycygiYXV0aCIsIFsiY3VycmVudFVzZXIiXSkNCiAgfSwNCiAgbWV0aG9kczp7DQogICAgc2VuZERhdGFDbGFzcygpew0KICAgICAgdGhpcy4kZW1pdCgnaGlkZUNsYXNzJyx0aGlzLmNsYXNzTmFtZSk7DQogICAgfSwNCiAgICBleGl0TG9naW4oZXZlbnQpew0KICAgICAgbGV0IGxvZ2luX2Zvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibG9naW4tZm9ybSIpOw0KICAgICAgaWYoZXZlbnQudGFyZ2V0ID09IGxvZ2luX2Zvcm0pDQogICAgICB0aGlzLnNlbmREYXRhQ2xhc3MoKTsNCiAgICB9LA0KICAgICAuLi5tYXBBY3Rpb25zKCJhdXRoIiwgWw0KICAgICAgImF0dGVtcHRMb2dpbiIsDQogICAgICAiYXR0ZW1wdFNpZ251cCIsDQogICAgICAiYXR0ZW1wdEV4dGVybmFsTG9naW4iDQogICAgXSksDQogICAgdG9nZ2xlTW9kZSgpIHsNCiAgICAgIHRoaXMubW9kZSA9PT0gInJlZ2lzdGVyIg0KICAgICAgICA/ICh0aGlzLm1vZGUgPSAibG9naW4iKQ0KICAgICAgICA6ICh0aGlzLm1vZGUgPSAicmVnaXN0ZXIiKTsNCiAgICB9LA0KICAgIHNpZ251cCgpIHsNCiAgICAgIHRoaXMuYXR0ZW1wdFNpZ251cCh0aGlzLmNyZW5kZW50aWFscykNCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgIGFsZXJ0KGBDb25maXJtYXRpb24gZW1haWwgaGFzIGJlZW4gc2VudCB0byB5b3UhICR7cmVzcG9uc2UuaWR9YCk7DQogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgIGFsZXJ0KGBTb21ldGhpbmdzIGdvbmUgd3Jvbmcgc2lnbmluZyB1cC4NCiAgICAgICAgICAgICAgICAgRXJyb3I6ICR7ZXJyb3J9YCk7DQogICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvciwgIlNvbWV0aGluZ3MgZ29uZSB3cm9uZyBzaWduaW5nIHVwIik7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgbG9naW4oKSB7DQogICAgICB0aGlzLmF0dGVtcHRMb2dpbih7IC4uLnRoaXMuY3JlbmRlbnRpYWxzIH0pDQogICAgICAgIC50aGVuKCgpID0+IHsNCiAgICAgICAgICBhbGVydChgWW91IGhhdmUgc2lnbmVkIGluIWApOw0KICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHRoaXMuJHJvdXRlLnF1ZXJ5LnJlZGlyZWN0IHx8ICIvIik7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgYWxlcnQoYFNvbWV0aGluZ3MgZ29uZSB3cm9uZyBsb2dnaW5nIGluLg0KICAgICAgICAgICAgICAgICBFcnJvcjogJHtlcnJvcn1gKTsNCiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLCAiU29tZXRoaW5ncyBnb25lIHdyb25nIGxvZ2dpbmcgaW4iKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBsb2dpbkV4dGVybmFsKCkgew0KICAgICAgdGhpcy5hdHRlbXB0RXh0ZXJuYWxMb2dpbigiR29vZ2xlIik7DQogICAgfQ0KICAgIA0KICB9DQp9DQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div @click=\"exitLogin\" id=\"login-form\" :class=\"appear\">\r\n  <div class=\"flex items-center justify-center h-screen lg:w-2/5 m-auto\">\r\n  <div v-if=\"currentUser === null\" class=\"relative w-full bg-white flex flex-col w-80 border border-gray-900 rounded-lg px-8 py-10\">\r\n    <button @click=\"sendDataClass\" class=\"top-0 right-0 absolute mr-2 mt-2\">\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\r\n      </svg>\r\n    </button>\r\n \r\n  <form v-if=\"mode === 'login'\" @keyup.enter=\"login\" class=\"flex flex-col space-y-8 mt-10\">\r\n    <div class=\"text-black mt-5\">\r\n    <h1 class=\"font-bold text-4xl text-center\">Login</h1>\r\n    </div>\r\n    <input type=\"email\" v-model=\"crendentials.email\" placeholder=\"For-example@example.com\" class=\"border rounded-lg py-3 px-3 bg-gray-100 border-gray-700 placeholder-gray-500 focus:outline-none focus:ring\">\r\n    <input type=\"password\" v-model=\"crendentials.password\" placeholder=\"Password\" class=\"border rounded-lg py-3 px-3 bg-gray-100 border-gray-700 placeholder-gray-500 focus:outline-none focus:ring\">\r\n    <div class=\"flex flex-col\">\r\n    <button @click=\"login()\" class=\"bg-green-400 text-white rounded-lg py-3 mt-1 hover:bg-green-500 duration-100 font-semibold\">SIGN IN</button>\r\n    <p class=\"text-center my-1\">OR</p>\r\n    <button @click=\"loginExternal()\" class=\"bg-red-500 text-white rounded-lg py-3 hover:bg-red-600 duration-100 font-semibold\">SIGN IN WITH GOOGLE </button>\r\n    </div>\r\n    <p class=\"message\">\r\n          Not registered?\r\n          <a href=\"#\" class=\"text-blue-400\" @click=\"toggleMode\">Create an account</a>\r\n        </p>\r\n  </form>\r\n\r\n  <form v-if=\"mode === 'register'\" @keyup.enter=\"signup\" class=\"flex flex-col space-y-8 mt-10\">\r\n    <div class=\"text-black mt-5\">\r\n    <h1 class=\"font-bold text-4xl text-center\">Register</h1>\r\n    </div>\r\n    <input type=\"text\" placeholder=\"Your name\" v-model=\"crendentials.name\" class=\"border rounded-lg py-3 px-3 bg-gray-100 border-gray-700 placeholder-gray-500 focus:outline-none focus:ring\">\r\n    <input type=\"email\" placeholder=\"For-example@example.com\" v-model=\"crendentials.email\" class=\"border rounded-lg py-3 px-3 bg-gray-100 border-gray-700 placeholder-gray-500 focus:outline-none focus:ring\">\r\n    <input type=\"password\" placeholder=\"Password\" v-model=\"crendentials.password\" class=\"border rounded-lg py-3 px-3 bg-gray-100 border-gray-700 placeholder-gray-500 focus:outline-none focus:ring\">\r\n    <button @click=\"signup\" class=\"bg-green-400 text-white rounded-lg py-3 hover:bg-green-500 duration-100 font-semibold\">REGISTER</button>\r\n    <p class=\"message\">\r\n          Already registered?\r\n          <a href=\"#\" class=\"text-blue-400\" @click=\"toggleMode\">Log in</a>\r\n        </p>\r\n  </form>\r\n</div>\r\n<p v-else>Wellcome, {{currentUser.user_metadata.full_name}}</p>\r\n</div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\"\r\nexport default {\r\n  name: \"LoginForm\",\r\n  data(){\r\n    return {\r\n      className: \"hide\",\r\n       crendentials: {\r\n        name: \"\",\r\n        password: \"\",\r\n        email: \"\"\r\n      },\r\n      mode: \"login\"\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(\"auth\", [\"currentUser\"])\r\n  },\r\n  methods:{\r\n    sendDataClass(){\r\n      this.$emit('hideClass',this.className);\r\n    },\r\n    exitLogin(event){\r\n      let login_form = document.getElementById(\"login-form\");\r\n      if(event.target == login_form)\r\n      this.sendDataClass();\r\n    },\r\n     ...mapActions(\"auth\", [\r\n      \"attemptLogin\",\r\n      \"attemptSignup\",\r\n      \"attemptExternalLogin\"\r\n    ]),\r\n    toggleMode() {\r\n      this.mode === \"register\"\r\n        ? (this.mode = \"login\")\r\n        : (this.mode = \"register\");\r\n    },\r\n    signup() {\r\n      this.attemptSignup(this.crendentials)\r\n        .then(response => {\r\n          alert(`Confirmation email has been sent to you! ${response.id}`);\r\n          console.log(response);\r\n        })\r\n        .catch(error => {\r\n          alert(`Somethings gone wrong signing up.\r\n                 Error: ${error}`);\r\n          console.error(error, \"Somethings gone wrong signing up\");\r\n        });\r\n    },\r\n    login() {\r\n      this.attemptLogin({ ...this.crendentials })\r\n        .then(() => {\r\n          alert(`You have signed in!`);\r\n          this.$router.push(this.$route.query.redirect || \"/\");\r\n        })\r\n        .catch(error => {\r\n          alert(`Somethings gone wrong logging in.\r\n                 Error: ${error}`);\r\n          console.error(error, \"Somethings gone wrong logging in\");\r\n        });\r\n    },\r\n    loginExternal() {\r\n      this.attemptExternalLogin(\"Google\");\r\n    }\r\n    \r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n#login-form {\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  position: fixed;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  top: 0;\r\n  left: 0;\r\n  transition: all 0.15s;\r\n  vertical-align: middle;\r\n}\r\n</style>"]}]}